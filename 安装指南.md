# 快速上手 Wio Terminal 并添加智慧农业和智慧办公代码的库

## Wio Terminal 入门教学

### 硬件

**所需部件**

- Wio Terminal x 1
- 电脑 x 1
- USB Type-C数据线 x 1

<div align=center><img width = 250 src="https://files.seeedstudio.com/wiki/Wio-Terminal/img/Wio-Terminal-Powerup.png"/></div>

通过USB数据线将Wio终端连接到计算机，这时您应该发现板背面的蓝色LED点亮。

### 软件

- **第一步：安装Arduino IDE**

[![](https://files.seeedstudio.com/wiki/Seeeduino_Stalker_V3_1/images/Download_IDE.png)](https://www.arduino.cc/en/Main/Software)

**启动Arduino应用程序**

双击您预先下载好的Arduino IDE应用程序。

!!!Note
    如果Arduino软件以其他语言加载，则可以在偏好设置（Peferences）对话框中进行更改。请参阅[Arduino Software (IDE)页面](https://www.arduino.cc/en/Guide/Environment#languages) for details.

- **第二步：打开Blink示例**  

打开LED闪烁示例项目:  **File（文件） > Examples（示例） >01.Basics > Blink**


<div align="center">
<figure>
  <img src="https://files.seeedstudio.com/wiki/Wio-Terminal/img/select_blink.jpg"/>
  <figcaption><i>Blink Path</i></figcaption>
</figure>
</div>

- **第三步： 将Wio Terminal添加到您的Arduino IDE**

1.点击 **File（文件） > Preference（偏好设置）** ，并将以下网址复制到**Additional Boards Manager URLs**中:


```sh
https://files.seeedstudio.com/arduino/package_seeeduino_boards_index.json
```

![](https://files.seeedstudio.com/wiki/Wio-Terminal/img/Boardurl.png)

点击 **Tools（工具） > Board（开发板）> Boards Manager...** ，在搜索栏中搜索关键字**Wio Terminal**后，点击并安装它。

<div align="center">
<figure>
  <img src="https://files.seeedstudio.com/wiki/Wio-Terminal/img/addBoard.png"/>
  <figcaption><i>The keyword is Wio Terminal</i></figcaption>
</figure>
</div>

- **第四步：选择您的板和端口**   
您需要在 **Tools（工具）> Board（开发板）** 菜单中选择与您的Arduino相对应的条目。
选择 **Wio Terminal**.

<div align="center">
<figure>
  <img src="https://files.seeedstudio.com/wiki/Wio-Terminal/img/selectBoard.png"/>
  <figcaption> <i>Choose the right board</i></figcaption>
</figure>
</div>

从 **Tools（工具） | Serial Port（端口）** 中选择Wio Terminal的串行设备。它应该COM3或数字更大的串口（**COM1** 和 **COM2** 通常为硬件串行端口保留）。如果您不知道是哪个，您可以断开Wio Terminal并重新打开菜单; 消失的条目应该是它的串口。重新连接电路板并选择该串行端口。

!!!note
    对于Mac用户，它应该是`/dev/cu.usbmodem141401`

<div align="center">
<figure>
  <img src="https://files.seeedstudio.com/wiki/Wio-Terminal/img/port.png"/>
  <figcaption><i>Choose the right port</i></figcaption>
</figure>
</div>

- **第五步：上传程序**   

现在，只需单击工具栏中的 **上传（Upload）** 按钮，等待几秒程序上传成功之后，状态栏中将显示“完成上传（Done uploading.）”的信息。

<div align="center">
<figure>
  <img src="https://files.seeedstudio.com/wiki/Wio-Terminal/img/upload.png"/>
  <figcaption><i>Upload the code</i></figcaption>
</figure>
</div>


上传完成几秒钟后，您应该会看到Wio Terminal背面的LED开始闪烁。 如果LED闪烁了的话，恭喜！您已经启动并运行了Wio Terminal。接下来让我们上传模拟智慧农业场景的代码。

## 上传模拟智慧农业代码

**1.** 您需要在这里下载运行的代码及库

- [运行所需要的库](https://files.seeedstudio.com/wiki/github_weiruanexample/libraries1.zip)

**2.** 解压模拟代码和运行所需要的库的压缩文件，文件应该如下：

![](https://files.seeedstudio.com/wiki/github_weiruanexample/kuapperance.png)

**3.** 用 Arduino IDE 打开模拟代码并添加运行所需要的库

点击**Sketch (项目)> Include Library (加载库)> Add .ZIP Library（添加一个zip库）**

![enter image description here](https://files.seeedstudio.com/wiki/Tutorial_Add_Arduino_Library/images/add_library_1.png)

 - 对于 windows 用户，为方便你可以将所有库文件解压并放到 "/user/文档/Arduino/libraries" 的目录里

![](https://files.seeedstudio.com/wiki/github_weiruanexample/weiruan33.png)

 - 对于 Mac 用户，为方便你可以将所有库文件解压并放到“文稿/Arduino/libraries/”的目录里

![](https://files.seeedstudio.com/wiki/github_weiruanexample/kucopy.png)

全部添加完后即可上传代码。

## 上传模拟智慧办公代码

**1.** 您需要在这里下载运行的代码及库

- [运行所需要的库](https://files.seeedstudio.com/wiki/github_weiruanexample/libraries1.zip) （如果您在尝试智慧农业实验已经下过库可以不需要下载）

**2.** 解压模拟代码和运行所需要的库的压缩文件，文件应该如下：

![](https://files.seeedstudio.com/wiki/github_weiruanexample/kuapperance.png)

**3.** 用 Arduino IDE 打开模拟代码并添加运行所需要的库

点击**Sketch (项目)> Include Library (加载库)> Add .ZIP Library（添加一个zip库）**

!!! note
    我们需要的库有很多但每次只能添加一个库，所以对所有库需要分别添加。

![enter image description here](https://files.seeedstudio.com/wiki/Tutorial_Add_Arduino_Library/images/add_library_1.png)


 - 对于 windows 用户，为方便你可以将所有库文件解压并放到 "/user/文档/Arduino/libraries" 的目录里

![](https://files.seeedstudio.com/wiki/github_weiruanexample/weiruan33.png)

 - 对于 Mac 用户，为方便你可以将所有库文件解压并放到“文稿/Arduino/libraries/”的目录里

![](https://files.seeedstudio.com/wiki/github_weiruanexample/kucopy.png)

全部添加完后即可上传代码。

# 更新你手中 Wio Terminal 的 Wireless 固件

## Update the Wireless Core Firmware

First, we need to update the firmware for the Realtek RTL8720 Wireless core on the Wio Terminal. **This is essential and must update to the latest firmware before proceeding to examples.**
        
<div class="tips" style="display: table; table-layout: fixed; background-color: #F5A9A9; height: auto;  width: 100%;">
<div class="left-icon" style="display: table-cell; vertical-align: middle; background-color: #DF0101; padding-top: 10px; box-sizing: border-box; height: auto; width: 38px; text-align: center;"><img style="width: 26px; vertical-align: middle;" src="https://s3-us-west-2.amazonaws.com/static.seeed.cc/seeed/icon/Danger.svg" alt="attention icon" /></div>
<div class="right-desc" style="display: table-cell; vertical-align: middle; padding-left: 15px; box-sizing: border-box; width: calc(95% - 38px);">
<p style="color: #000000; font-weight: bold; margin-top: 10px;">Attention</p>
<p style="color: #000000; font-size: 14px;">Please update the Wi-Fi Core before usage!</p>
</div>
</div>

### Step 1 - Erase the Initial Factory Firmware

When you get your hands on the Wio Terminal for the very first time, you need to erase the initial RTL8720 firmware and flash the latest firmware. We have prepared a tool for this called **ambd_flash_tool**, and when you run this tool, it first enables a serial connection from SAMD51 to RTL8720 in order for the firmware to install on the RTL8720. This is done because you cannot directly communicate with RTL8720. After that, this tool can be used to erase the existing firmware on the RTL8720 and also flash the latest firmware. 

**NOTE**: You only need to erase the factory firmware for the very first time. Afterwards, you can flash new firmware to overwrite the existing firmware

#### For Windows

- **STEP 1:** Open **Windows PowerShell** on your PC and execute the below commands to download the flashing tool 

```sh
cd ~
git clone https://github.com/Seeed-Studio/ambd_flash_tool
```

**NOTE**: Here **cd ~** command directs you to your home directory and **git clone** command downloads the repo from GitHub

- **STEP 2:** Navigate to **ambd_flash_tool** directory

```sh
cd ambd_flash_tool
```

- **STEP 3:** Connect Wio Terminal to PC and turn it on

- **STEP 4:** Execute the following command to erase the initial firmware

```sh
.\ambd_flash_tool.exe erase
```

**NOTE:** The initial erase process may take a while. Please be patient and **do not** close the window

> The connected serial port of the Wio Terminal will be automatically detected!

**NOTE**: If you want to open the help usage, execute `.\ambd_flash_tool.exe`

<p style="text-align:center;"><img src="https://files.seeedstudio.com/wiki/Wio-Terminal/img/ambd_tool_win_2.png" alt="pir" width="700" height="auto"></p>

#### For Mac/ Linux

- **STEP 1:** Open **Terminal** on your Mac/Linux and execute the below commands to download the flashing tool 

```sh
cd ~
git clone https://github.com/Seeed-Studio/ambd_flash_tool
```

**NOTE**: Here **cd ~** command directs you to your home directory and **git clone** command downloads the repo from GitHub

- **STEP 2:** Navigate to **ambd_flash_tool** directory

```sh
cd ambd_flash_tool
```

- **STEP 3:** Connect Wio Terminal to PC and turn it on

- **STEP 4:** Execute the following command to erase the initial firmware

```sh
python3 ambd_flash_tool.py erase
```

**NOTE**: Make sure you have **Python 3 installed on your Mac/ Linux**, and the script will auto-download all the dependent libraries

> In some cases, you may only have Python 3 on your PC, then replace `python3 ambd_flash_tool.py` with `python ambd_flash_tool.py`

**NOTE:** The initial erase process may take a while. Please be patient and **do not** close the window

> The connected serial port of the Wio Terminal will be automatically detected!

**NOTE**: If you want to open the help usage, execute `python3 ambd_flash_tool.py`

<p style="text-align:center;"><img src="https://files.seeedstudio.com/wiki/Wio-Terminal/img/ambd_tool_linux.png" alt="pir" width="750" height="auto"></p>

### Step 2 - Flash the Latest Firmware

#### For Windows

- While you are inside the **ambd_flash_tool** directory, execute the following command to flash the **latest firmware** to RTL8720

```sh
.\ambd_flash_tool.exe flash
``` 

#### For Mac/ Linux

- While you are inside the **ambd_flash_tool** directory, execute the following command to flash the **latest firmware** to RTL8720

```sh
python3 ambd_flash_tool.py flash
```

